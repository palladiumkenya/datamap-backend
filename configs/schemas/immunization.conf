{"base_repository": "immunization", "query": "SELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'BCG'                                       AS VaccineCode,\n       BCG                                         AS OccurrenceDate,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE BCG <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'OPV_birth'                                 AS VaccineCode,\n       OPV_birth                                   AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE OPV_birth <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'OPV_1'                                     AS VaccineCode,\n       OPV_1                                       AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE OPV_1 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'OPV_2'                                     AS VaccineCode,\n       OPV_2                                       AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE OPV_2 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'OPV_3'                                     AS VaccineCode,\n       OPV_3                                       AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE OPV_3 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'IPV'                                       AS VaccineCode,\n       IPV                                         AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE IPV <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'DPT_Hep_B_Hib_1'                           AS VaccineCode,\n       DPT_Hep_B_Hib_1                             AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE DPT_Hep_B_Hib_1 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'DPT_Hep_B_Hib_2'                           AS VaccineCode,\n       DPT_Hep_B_Hib_2                             AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE DPT_Hep_B_Hib_2 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'DPT_Hep_B_Hib_3'                           AS VaccineCode,\n       DPT_Hep_B_Hib_3                             AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE DPT_Hep_B_Hib_3 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'PCV_10_1'                                  AS VaccineCode,\n       PCV_10_1                                    AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE PCV_10_1 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'PCV_10_2'                                  AS VaccineCode,\n       PCV_10_2                                    AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE PCV_10_2 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'PCV_10_3'                                  AS VaccineCode,\n       PCV_10_3                                    AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE PCV_10_3 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'ROTA_1'                                    AS VaccineCode,\n       ROTA_1                                      AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE ROTA_1 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'ROTA_2'                                    AS VaccineCode,\n       ROTA_2                                      AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE ROTA_2 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'ROTA_3'                                    AS VaccineCode,\n       ROTA_3                                      AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE ROTA_3 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'Measles_rubella_1'                         AS VaccineCode,\n       Measles_rubella_1                           AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE Measles_rubella_1 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'Measles_rubella_2'                         AS VaccineCode,\n       Measles_rubella_2                           AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE Measles_rubella_2 <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'Yellow_fever'                              AS VaccineCode,\n       Yellow_fever                                AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE Yellow_fever <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'Measles_6_months'                          AS VaccineCode,\n       Measles_6_months                            AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE Measles_6_months <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'VitaminA_6_months'                         AS VaccineCode,\n       VitaminA_6_months                           AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE VitaminA_6_months <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'VitaminA_1_yr'                             AS VaccineCode,\n       VitaminA_1_yr                               AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE VitaminA_1_yr <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'VitaminA_1_and_half_yr'                    AS VaccineCode,\n       VitaminA_1_and_half_yr                      AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE VitaminA_1_and_half_yr <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'VitaminA_2_yr'                             AS VaccineCode,\n       VitaminA_2_yr                               AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE VitaminA_2_yr <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'VitaminA_2_to_5_yr'                        AS VaccineCode,\n       VitaminA_2_to_5_yr                          AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE VitaminA_2_to_5_yr <> ''\nUNION ALL\nSELECT CONCAT(f.siteCode, i.patient_id)            AS ClientID,\n       f.siteCode                                  AS FacilityID,\n       'influenza'                                 AS VaccineCode,\n       visit_date                                  AS OccurrenceDateTime,\n       ''                                          AS Route,\n       0                                          AS DoseQuantity,\n       ''                                          AS Reaction,\n       ''                                          AS ReactionDate,\n       sequence                                    as DoseNumber,\n       IF(fully_immunized >= 0, 'Completed', NULL) AS ImmunizationStatus\nFROM dwapi_etl.etl_hei_immunization i\n         JOIN kenyaemr_etl.etl_default_facility_info f\nWHERE influenza <> '';", "mappings": [{"id": "73c08a1d-51f9-11f0-8763-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "ClientID", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a1e-51f9-11f0-908a-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "OccurrenceDate", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a1f-51f9-11f0-b66a-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "Route", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a20-51f9-11f0-8f49-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "DoseQuantity", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a21-51f9-11f0-b9a5-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "Reaction", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a22-51f9-11f0-9f04-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "FacilityID", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a23-51f9-11f0-b788-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "VaccineCode", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a24-51f9-11f0-8efb-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "ReactionDate", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a25-51f9-11f0-bb70-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "DoseNumber", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}, {"id": "73c08a26-51f9-11f0-8441-00090faa0001", "base_repository": "immunization", "base_variable_mapped_to": "ImmunizationStatus", "tablename": "-", "columnname": "-", "datatype": "-", "join_by": "-", "created_at": "2025-06-25 22:15:23.593322", "updated_at": "2025-06-25 22:15:23.593322"}]}